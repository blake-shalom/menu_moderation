
<div ng-show="isFirst" ng-cloak class="alert-box">
   <h3>Looks Good!</h3>
   <p>Now let's add items to your section.</p>
</div>

<div id="top-entries">
   <div class="row">
      <h3 class="col-md-8">{{section.name}}</h3>
      <h5 class="col-md-4">Menu Items: {{activeTemplate}}</h5>
   </div>
   <div class="row">
      <div class="col-md-9">
         <p>Description text sed ut perspiciatis unde omnis iste natus error accusantium doloremque laudantium, totam rem aperiam, eaque ab illo inventore veritatis et quasi architecto beatae vitae dicta. Nemo enim ipsam voluptatem quia.</p>
         <div>
            <p>Small - $5</p>
            <p>Small - $5</p>
            <p>Small - $5</p>
         </div>
      </div>
      <div class="col-md-3">
         <a class="btn btn-black" href="#/sections">Edit Section Details</a>
      </div>
   </div>
</div>
<div class="top60">
   <div class="row">
      <div class="btn-group col-md-3">
         <div class="btn btn-black" ng-model="isEditingItems" btn-radio="true">{{section.entries.length === 0 ? "Add" : "Edit"}}</div>
         <div class="btn btn-black" ng-model="isEditingItems" btn-radio="false">Arrange</div>
      </div>
      <div class="col-md-6"></div>
      <div class="btn btn-black col-md-3" ng-click="saveItems()">SAVE CHANGES</div>
   </div>
</div>

<div ng-hide="isEditingItems" class="top30">
   <div class="row grid-row">
      <div class="col-md-4" ng-repeat="entry in section.entries">
         <div class="grid-col" data-drop="true" ng-model="section.entries" jqyoui-droppable="{index: {{$index}}}">
            <div class="drag-cell" data-drag="true" ng-model="section.entries" data-jqyoui-options="{revert: 'invalid'}" jqyoui-draggable="{index: {{$index}},placeholder:false,animate:false}">
               <img class="grid-pic" ng-src="{{entry.image}}"></img>
               <div class="row">
                  <h5 class="col-md-8">{{entry.name}}</h5>
                  <p class="col-md-4">{{entry.price}}</p>
               </div>
               <p>{{entry.description}}</p>
            </div>
         </div>
      </div>
   </div>
</div>
<div ng-show="isEditingItems" class="top30">
   <div ng-show="activeTemplate=='custom'">
      <div flow-init="{singleFile:true}">
         <div class="drop-box" flow-drop flow-drag-enter="style={background: green}" flow-drag-leave="style={}" ng-style="style">
            <div class="btn" flow-btn>Upload File</div>
            <p>or drop them here</p>
         </div>
         <img ng-show="firstEntry.image" class="entry-thumb" ng-src="{{firstEntry.image}}">
         <img ng-hide="firstEntry.image" class="entry-thumb" flow-img="$flow.files[0]"/>
      </div>
   </div>
   <div class="row">
      <div class="col-md-4" ng-repeat="entry in section.entries" ng-hide="activeTemplate=='custom'">
         <div class="grid-flex">
            <h5>Item Name</h5>
            <input type="text" class="form-control" ng-model="entry.name">
            <div ng-hide="activeTemplate=='oneLiner'">
               <h5>Description</h5>
               <textarea type="text" class="form-control" ng-model="entry.description" rows="4"></textarea>
            </div>
            <h5>Price</h5>
            <input type="text" class="form-control" ng-model="entry.price">
            <div ng-hide="activeTemplate=='oneLiner'">
               <h5>Image</h5>
               <div flow-init="{singleFile:true}">
                  <div class="drop-box" flow-drop flow-drag-enter="style={background: green}" flow-drag-leave="style={}" ng-style="style">
                     <div ng-hide="entry.image || $flow.files.length>0">
                        <div class="btn" flow-btn>Upload File</div>
                        <p>or drop them here</p>
                     </div>
                     <img ng-show="entry.image" class="entry-thumb" ng-src="{{entry.image}}">
                     <img ng-hide="entry.image" class="entry-thumb" flow-img="$flow.files[0]"/>
                  </div>
               </div>
               
               <h5>Ratings</h5>
               <p class="smallp">In addition to a star rating and comments, customers can rate other attributes of this item. Enter attributes you want to be rated. (Ex. Spiciness)</p>
               <div ng-repeat="slider in entry.slider_templates" class="row">
                  <h5 class="col-md-2">{{$index + 1}}</h5>
                  <input type="text" class="col-md-8" ng-model="slider.category">
                  <div class="btn btn-danger col-md-1" ng-click="removeSlider($parent.entry, slider, $index)"></div>
               </div>
               <div ng-hide="entry.slider_templates.length>=2" class="btn btn-success" ng-click="addSlider(entry)">+ add attribute rating</div>
            </div>
            <div class="btn btn-danger" ng-click="removeEntry(entry, $index)">DELETE ENTRY</div>
         </div>
      </div>
      <div ng-show="activeTemplate=='custom'">
         <div class="col-md-4 grid-flex">
            <h5>List Title</h5>
            <input type="text" class="form-control">
            <h5>List to Choose from</h5>
            <p>Seperate different items with a (,). Example: white, wheat, rye</p>
            <input type="text" class="form-control">
            <h5>Additional Price (if any)</h5>
            <input type="text" class="form-control">
         </div>
      </div>
      <div class="col-md-4">
         <div ng-hide="activeTemplate=='custom'" class="btn grid-flex add-button" ng-click="addEntry()">
            <h5 class="top200">+</h5>
            <h5>Add New Item</h5>
         </div>
         <div ng-show="activeTemplate=='custom'" class="btn grid-flex add-button" ng-click="addSubsection()">
            <h5 class="top200">+</h5>
            <h5>Add New Subsection</h5>
         </div>
      </div>
   </div>
</div>
